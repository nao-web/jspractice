<!doctype html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>JavaScriptの練習</title>
</head>
<body>
<h1>日付計算の練習</h1>
誕生日：<input type="text" name="birthday" id="birthday" value="1984-12-05" />
<input type="button" value="計算！" onclick="getAge();">
<p>生まれてから<span id="daysPast">???</span>日経過していて、だいたい<span id="age">???</span>歳です！</p>
<script>
	function getAge() {
		var birthday = document.getElementById('birthday').value;
		// var d1 = new Date(birthday);
		var birthdayArray = birthday.split("-");
		console.dir(birthdayArray);
		var year = birthdayArray[0];
		var month = birthdayArray[1] - 1;	//月->0-11
		var day = birthdayArray[2];

		var d1 = new Date(year, month, day);
		var d2 = new Date();
		var diff = d2.getTime() - d1.getTime();
		var daysPast = Math.floor(diff / (1000*60*60*24));
		// alert(daysPast + '日経過しています！');
		var age = Math.floor(daysPast / 365);
		// alert('だいたい' + age +　'歳');

		document.getElementById('daysPast').innerHTML = daysPast;
		document.getElementById('age').innerHTML = age;
	}
</script>
</body>
</html>